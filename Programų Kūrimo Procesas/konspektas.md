# Programų kūrimo procesas

## Įvadas į programų kūrimo procesą

- **PKP** - Sukurti reikiamą per nustatytą laiką telpant į sutartą biudžetą įrangą.
- Proceso pabaiga – ne laikas ir biudžetas, o tada, kada sprendimas yra išleidžiamas (angl. **release**)
- **Big Bang** (ėjimas į tamsą) sprendimo metodas - daug darbo ne iki galo suvokiant kas turi būti sukurta ir bendraujant su užsakovu tik pradžioje ir pabaigoje darbų.
- Užsakovas niekada iki galo nežino koks turi būti galutinis sprendimas
- **Iteracinis kelias:**
  - Užsakovas nuolat turi dalyvauti kūrimo procese
  - Visada klausk ką užsakovas vienu ar kitu atveju norėjo pasakyti,
  - Visada klausk ir prašyk pateikti daugiau detalių,
  - Visada klausk, kaip užsakovas įsivaizduoja būsimą programinį įgyvendinimą.
- Iteracijų panaudojimas užtikrina rezultato pasiekimą kuris tenkina užsakovą.
- **Waterfall** vs **Iterative**:
  - Reikiamos pastangos: 10 vs 1 (skaičiuojant asmens darbo val. per mėn.)
  - Greitis: 1 vs 7 (skaičiuojant per fiksuotą laiko tarpą)
  - Užsakovo pasitenkinimas (stakeholder): Menkas vs puikus
  - **Tačiau:** iteracinis ne visur veikia
- **Cynefin framework** offers a "sense of place" from which to analyse behaviour and make decisions
  - **Chaotic** (chaotiškas) - iš karto veikite, po to tikrinkite ar situacija aiškėja, stabilizuojasi ir ar galima pereiti į „Sudėtingas“ sritį.
    - Agile **nėra laiko** - Esama krizinėje situacijoje, tad privalu staigiai reaguoti siekiu sumažinti galimą neigiamą įtaką
  - **Complex** (sudėtingas) - tirkite problemą, patikrinkite sprendimą, jį pritaikykite
    - Agile požiūris **pakankamai gerai tinka**. Tyrimo pagrindu gautos žinios vertinamos ir pritaikomos
  - **Complicated** (painus) - Įvertinkite situaciją, keletą galimybių, remkitės gerąja patirtimi.
    - Agile tipo procesas **nėra pats geriausias** pasirinkimas. Egzistuoja keletas gerų sprendinių tačiau šiems „atrasti“ reikia ekspertų konsultacijos - neefektyvu bandyti rasti sprendimą patiems.
  - **Simple / Obvious** (paprastas) - Aiškus sąryšis tarp pasekmės ir priežasties, procesas aiškus ir deterministinis
    - Agile tipo procesas **nėra pats geriausias** pasirinkimas. Viskas ir taip aišku
  - **DISORDER** (betvarkė) - nėra aišku, kurios sritys veikia. Vienintelis būdas – problemą dekomponuoti į mažesnes ir kiekvieną jų priskirti likusioms 4 sritims.

## Naudotojų istorijos

- Planu grindžiamas (**nuoseklus**) NP:
  - Reikalavimai iš anksto aprašyti,
  - Nekintantys,
  - Nepriklausomi (moduliniai).
  - PĮ kūrėjams patiekiama kaip išsamus, iš anksto detaliai suplanuotas ir dokumentuotas PĮ veikimas
  - Pasikeitus reikalavimas, taikomas formalus procesas pakeitimams užtikrinti
- **Iteratyvaus** proceso IP:
  - Kyla proceso metu,
  - Nuolat diskutuojami,
  - Savalaikiai (JIT Just in time), tik pakankami (Just Enough) funkcionalumui suprogramuoti
  - Reikalavimai formuluojami pasiliekant laisvę juos keisti.
- **PBI** (product backlog items) yra tai ką reikia sukurti. PBI gali būti:
  - UC (use case)
  - NS (**user story**) ar pan
- **NS** yra skirta būsimo produkto, kuriančio pridėtinę vertę (benraja prasme) savybėms aprašyti:
  - NS turi suvokti tiek inžinieriai, tiek užsakovai
  - NS turi sudaryti pagrindą diskusijoms kilti
  - NS gali būti pateikiamos skirtingu detalumo ir turi būti lengvai tikslinamos
- NS yra grindžiamos **3C** (iš čia Tello, Glip, Slack ar pan.):
  - **Card** (kortelės, suvokimas). Tipiniu atveju kortelės turinys turi nusakyti: `Kaip <naudotojas> aš <kažko siekiu sistemos pagalba> tam, kad <kažką galėčiau gauti>`
    - Reikalavimo pavadinimą;
    - Naudotojo tipą/rolę;
    - Tikslą t. y. ką naudotojas nori pasiekti/atlikti;
    - Atsakyti, kodėl naudotojas siekia užsibrėžto tikslo.
  - **Conversation** (diskusijos) - NS yra „pažadas“, jog vyks diskusija
  - **Confirmation** (pasitenkinimo matai) - Kiekviena NS privalo nusakyti pasitenkinimo kriterijus
- **NS detalumas:**
  - **Epic** – leidžia suvokti „big-picture“
    - Epic – nusako „Lord of the Rings“ lygio siužetą
    - Epic niekada nenuleidžiamas į programavimo lygį
    - Jų pagrindu kuriamos smulkesnės istorijos – savaitinės
  - Savaitinės istorijos dar gali būti vadinamos požymiais (angl. **features**), kol kas nėra tinkamos įgyvendinti.
  - Istorijos, kurios matuojamos dienomis ir paprastai, perduodamos programuotojams įgyvendinti
    - Įsivertinamos valandomis/darbo dienomis
  - Kai kas istorijas apjungia bendra Tema
- **NS kokybė:**
  - Independent - Istorijos turi būti nepriklausomos, kuo mažiau susietos su kitomis
  - Negiotiable - Istorijos nėra pasirašytas kontraktas, jos turi būti aptariamos ir svarstomos
  - Valuable - Kiekviena istorija turi teikti tam tikrą naudą.
  - Estimatable - ...
  - Small - Istorijos dydis priklauso nuo iteracijos dydžio:
  - Testable - Ne visos istorijos turi būti testuojamos - Epic (jų pagrindu niekas kodo nerašo)
- **Nefunkciniai reikalavimai**: Sistemos lygio ribojimai apsprendžiantys projektavimo ir testavimo etapus ir turintys šiek tiek kitokią formuluotę
- **Žinių įgijimas** - Prototype, proof of concept, study, spike.
- **Istorijų surinkimas:** - įtraukti naudotoją į komandą, diskutuojant kas turi būti sukurta ir vertinant tai, kas jau yra sukurta:
  - Rolėmis grindžiamas surinkimas (NS Workshop) - diskusija `Aš kaip <koks?> sistemos naudotojas noriu, kad <kažkas> ...`
  - Istorijų žemėlapiai (Story Mapping) -  Išdėstymas sekomis leidžia lengviau pastebėti trūkstamas istorijas.

## Istorijų žurnalas

- PB - Product backlog - prioritetizuotas naudotojų istorijų sąrašas; koks ir kokia tvarka funkcionalumas turi būti įgyvendinamas
- Įrašų tipai:
  - **Feature** (Savybė):
    - Kaip klientus aptarnaujantis asmuo noriu turėti galimybę suteikti aptarnavimo užklausai numerį, tam kad galėčiau valdyti užklausą ir su ja susijusius duomenis.
  - **Change** (Pakeitimas):
    - Kaip klientus aptarnaujantis asmuo norėčiau, kad paieškos rezultatai būtų surūšiuoti pagal kliento pavardę, bet ne užklausos numerį
  - **Defect** (Defektas):
    - Ištaisyti defektą numeriu #157 (kažkokioje sistemoje), tam, kad paieškoje naudojami specialieji simboliai „nenulaužtų“ sistemos darbo.
  - **Technical work** (technologinis sprendimas):
    - Migruoti į paskutiniąją Oracle RDBMS versiją.
  - **Knowledge acquisition** (žinių gavyba):
    - Įgyvendinti POC palyginant dvi architektūras ir paleisti 3 testus siekiu išsiaiškinti kuri iš jų yra tinkamiausia.
- **DEEP**:
  - Detailed appropriately: Fiksuotu laiko momentu, PB įrašai bus detalizuoti skirtingai: bus skirtinguose abstrakcijos lygiuose (Epic->Task)
  - Emergent: Vykdant programinės įrangos kūrimo arba palaikymo darbus PB niekada nėra išbaigtas ar nekintantis; Kaip tik priešingai, - nuolat atnaujinamas atsižvelgiant į bet kokią ekonominę naudą, kuri kinta nuolatos
  - Estimated: Kiekvienas įrašas žurnale turi turėti įvertį nurodantį reikalingas pastangas darbui atlikti
  - Prioritized - Tipiniu atveju prioritetai suteikiami tiems įrašams kurie numatyti keliems artimiausiems sprintams / iteracijoms
- **Grooming**:
  - Proaktyvus veiklų valdymas, organizavimas, administravimas ir kt.
  - Dalyvauja visi, tačiau sprendžia product owner / lead / stakeholder
  - Tipiniu atveju grooming veiklos sudaro apie **10 proc.** kiekvienos iteracijos / sprinto laiko.
  - Įrašai **įvertinami**, **detalizuojami** ir **prioritetizuojami** atsižvelgiant į esamus išteklius ir technologinius ribojimus.
- **PB grooming** tikslas tinkamai paruošti istorijas sprintui:
  - Kuriama **pridėtinė vertė** yra aiškiai aprašyta
  - **Detalės yra suvoktos** ir komanda gali aiškiai įsivertinti kiek truks istorijos įgyvendinimas
  - Visos priklausomybės yra aiškios, **nėra** jokių kitų **išorinių priklausomybių** kurios trukdytų įgyvendinimui
  - Komanda **turi** sprinto reikalaujamą **kompetenciją**
  - Visa iteracija yra įvertinta, istorijos pakankamai mažos ir **gali būti įgyvendintos vieno sprinto metu**
  - **Confirmation** kriterijai yra aiškūs ir testuotini
  - **Performance** kriterijai yra aiškūs ir testuotini
  - Komanda suvokia kaip bus **demonstruojama** versija sprinto pabaigoje
- Siekiu užtikrinti savalaikį ir tinkamą srautą PB kuriamas darbų srautas turi būti nagrinėjamas šiais aspektais:
  - **Release srautas**. PBI skirstomos į 2-3 dalis:
    - Turi būti
    - Pageidautina (Istorijos keliaus į 2 release arba bus įgyvendintos 1-ame)
    - Tikrai nebus
  - **Iteracijų srautas**: PB turi leisti planuoti iteracijas, ko pasėkoje būsimas funkcionalumas visiems tampa aiškus (testuotinas)
- **Trijų lygių PB modelis** (three-level enterprise backlog model):
  - Epics (portfolio backlog)
  - Program (features backlog)
  - Team (backlog of sprintable user sories)

## Naudotojų istorijų vertinimas ir darbų atlikimo greitis

- **R-D-C-T**: Requirements - Design - Coding - Testing
- `release size / velocity = sprint count`
- Visi iteracinio proceso artefaktai fiksuotu laiko momentu yra aprašomi skirtingu detalumu. Tipiniu atveju, organizacijose planavimas vykdomas trimis lygiais:
  - **Portfolio žurnalas** - Gali aprašyti organizacijos vykdomus projektus
  - **Produkto žurnalas**
    - PB istorijų įvertinas - standartinė grooming veikla
    - PBI vertinimas vyksta:
      - „Vertinimų“ susitikimo metu (kažkada gi reikia įsivertinti )
      - Planuojant release versiją
      - Product owner‘iui pridedant naują istoriją sprinto/iteracijos metu
    - Istorijas vertinti reikia dėl šių priežasčių:
      - Fiksuotu laiko momentu naudotojo istorijos yra skirtingų dydžių
      - Įgūdžiams susiformuoti reikia laiko, vienodo dydžio istorijų sudarymas pakankamai sudėtingas
      - Vertinant istorijas yra diskutuojama, svarstoma ir ginama nuomonė.
  - **Iteracijos žurnalas** - Iteracijos užduotys yra matuojamos „idealiomis“ valandomis/taškais
- Produkto žurnalo istorijų **vertinimas** grindžiamas šiais **principais**:
  - **Komandiniu** užduočių vertinimu - Lead, architektas, projekto vadovas, product owner‘is, scrum master‘is ar pan. atlieka TIK pradinį istorijų įvertinimą; Kiti komandos nariai vertinimą koreguoja.
  - Dėmesį kreipiant į **accuracy** bet ne precision
  - Naudojimą **santykinių**, bet ne absoliučių dydžių - žurnalas aprašo santykinius istorijų įverčius, t. y. visiškai nesvarbu koks yra tūris, svarbu tai, kiek istorija yra „didesnė/sudėtingesnė“ už lyginamąją.
  - Į tai, kad istorijos vertinimas **nėra kontraktas**
- PB istorijų **matavimo vienetai**. Tipiniu atveju yra naudojami du matai:
  - **Taškai** - apjungia du faktorius t.y. sudėtingumą ir istorijos dydį. Puikiai tinka santykiniam istorijų vertinimui.
  - **Idealios dienos** - Idealios dienos nėra tas pats, kas praėjusios dienos - 24 val. tikslumu.
- **Planning poker:**
  - Apsprendžiamas matavimo vienetas:
    - 2,4,8,16 ir t.t.
    - 1,2,3,5,8 ir t.t. (Fibonatis)
    - Kt.
  - Dalyvauja visa komanda,
  - Lead, Product owner pristato, apibūdina, paaiškina PBI
  - Komanda kiekvieną PBI vertina
  - Scrum master prižiūri procesą, stebi tuos kurie turi kitokią nuomonę, juos įtraukia į diskusiją
- **Įvertinimo tikslinimas**:
  - Lyginami visų komandos narių įvertinimai tai pačiai istorijai
  - Kuo didesnis skirtumas tarp vertinimų, tuo mažiau galima juo pasitikėti
  - Prielaidomis negalima remtis - viskas turi būti aišku
  - Kiekviena **prielaida** yra klaidinga tol, kol jos neišaiškina product owner‘is
  - Kiekvienas istorijos įvertinimas apima visus procesus **pradedant kodavimu baigiant dokumentacija**
  - Istorijų įsivertinimas yra **PAžADAS** užsakovui, KIEK laiko užtruks programinės įrangos **PALEIDIMAS**
- **Prioritetų perplanavimas** - kai kliento deadline nesutampa su įvertinimu:
  - Atmeskite neesminį funkcionalumą
  - Neatidėliokite versijos išleidimo, kuo artimesnis išleidimo laikas, tuo labiau jūs ir komanda esate susifokusavę į darbą
  - Fokusuokitės TIK į ESMINĮ funkcionalumą kurio reikia, kad programinė įranga veiktų
  - Kas jei užsakovas nenusileidžia dėl laiko? - Bent jau buvote sąžiningas ir atviras – metas palikti projektą, arba samdyti papildomus resursus (papildomos grėsmės)
- **Papildomi resursai**:
  - Negalioja taisyklė „dvigubai žmonių – du kartus greitesnis kūrimas“
- Efektyvumas (**team velocity**) - procentinė darbo dienų ir produktyvių darbo dienų išraiška
  - Kuo trumpesnė iteracija tuo greičiau gausite realų efektyvumo įvertį (1 - nežinoma)